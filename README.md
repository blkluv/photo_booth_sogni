# Sogni Photobooth

A full-stack, open-source "AI photobooth" that lets anyone snap a selfie or upload a photo, then generate stylised images powered by the **Sogni Supernet**.  
Live demo â†’ **https://photobooth.sogni.ai**

<p align="center">
  <img src="screenshots/photobooth-demo-1.png" width="32%"/>
  <img src="screenshots/photobooth-demo-2.png" width="32%"/>
  <img src="screenshots/photobooth-demo-3.png" width="32%"/>
</p>

---

## âœ¨ Features

â€¢ **State-of-the-art Character Transfer / Identity-Preserving Stylized Synthesis** â€” keeps your face while transforming the style via Instant ID.  
â€¢ **Parallel Generation** â€” up to 64 images rendered concurrently via the DePIN Sogni Supernet AI inference networ(via Sogni Client SDK).  
â€¢ **Mobile & Desktop** â€” webcam support, camera-roll upload, drag-and-drop.  
â€¢ **Secure Backend** â€” credentials live only in the Node server; the browser never sees them.  
â€¢ **Live Progress** â€” real-time SSE and per-image progress bars.  
â€¢ **One-Click Local Dev** â€” Vite + Nodemon + scripts runner.  
â€¢ **DePIN Powered** - No AI model downloads or local GPU needed. Each image job is sent in parallel to separate worker nodes on the DePIN Sogni Supernet AI inference network, up to 64 concurrent image jobs at a time. 

This application requires a free Sogni Account to leverage the Sogni Client SDK. Sogni tokens are required for inference jobs on the network.

---

## ğŸš€ Quick Start

### 1 Â· Clone & install
```bash
# clone
git clone https://github.com/Sogni-AI/sogni-photobooth.git
cd sogni-photobooth

# installs root deps *and* runs the npm **prepare** script which installs /server deps
npm install
```

### 2 Â· Backend credentials
```bash
cp server/.env.example server/.env   # edit the values
```
Minimal example:
```
SOGNI_APP_ID=photobooth-local   # optional; autogenerated if blank
SOGNI_USERNAME=your_username
SOGNI_PASSWORD=your_password
SOGNI_ENV=local                # local | staging | production
PORT=3001
CLIENT_ORIGIN=https://photobooth-local.sogni.ai
```

### 3 Â· Run in dev mode (two terminals)

One terminal to run the React front-end and another for the Node Express back-end.

```bash
# Terminal 1 â€“ backend
cd server && npm run dev

# Terminal 2 â€“ frontend (in project root)
npm run dev
```
Visit **https://photobooth-local.sogni.ai** (recommended Nginx reverse-proxy) **or** http://localhost:5175.

### Optional script runner

If you prefer not to keep terminals open, you can use the script runner. This will start the services in the background and log to files in the 
`logs/` directory.

```bash
./scripts/run.sh start   # starts front & back in background
./scripts/run.sh status  # see logs / ports
```

---

## ğŸ—‚ Project Layout
```
â”œâ”€ src/           # React frontend
â”‚  â”œâ”€ components/
â”‚  â”œâ”€ services/   # browser-side API helpers
â”‚  â””â”€ ...
â”œâ”€ server/        # Express backend (API â†’ Sogni SDK)
â”‚  â”œâ”€ routes/
â”‚  â””â”€ services/
â”œâ”€ scripts/       # helper CLI & deployment scripts
â”œâ”€ tests/         # Playwright visual tests & Jest unit tests
â””â”€ screenshots/   # demo images used in this README
```

---

## âš™ï¸ Configuration

| File | Purpose |
|------|---------|
| `server/.env` | Backend secrets & CORS origin |
| `.env`, `.env.staging` | Frontend build-time vars (Vite) |
| `configs/local/*.conf` | Nginx local SSL reverse-proxy |

### SSL & Custom Domain (optional)
Running `./scripts/run.sh nginx` installs a local Nginx config + self-signed cert so you can use **https://photobooth-local.sogni.ai** with secure cookies.

---

## ğŸ§ª Testing

```bash
# unit + component tests
npm test

# visual regression (HTML report)
npm run test:visual
```
Full visual refactor workflow:
```bash
npm run test:visual:baseline  # capture
# â€¦make changesâ€¦
npm run test:visual:refactor  # compare & report
```

---

## ğŸ“¦ Production Build & Deploy

```bash
# build static frontend (dist/) & type-check
npm run build


```
Deploy `/dist` to your static host and `/server` behind Node (PM2, systemd, etc.).  
Make sure **PORT**, **CLIENT_ORIGIN** and SSL are configured.

---

## ğŸ¤ Contributing
Pull requests are welcome!  
Please run `npm run lint` and `npm run test:visual` before submitting.

We follow the standard [Contributor Covenant](https://www.contributor-covenant.org/version/2/1/code_of_conduct/) Code of Conduct.

---

## ğŸ“œ License

Licensed under the **MIT License**.  See [`LICENSE`](LICENSE) for the full text.

---

## ğŸ™ Acknowledgements
* **Sogni AI** â€“ for the SDK & Supernet that powers this application. Check out more "Superapp" examples: https://www.sogni.ai/super-apps
* **Stable Diffusion SDXL** â€“ https://huggingface.co/docs/diffusers/en/using-diffusers/sdxl
* **Controlnets** - https://github.com/lllyasviel/ControlNet
* **Instant ID** - https://github.com/instantX-research/InstantID
* **Cursor AI** â€“ the AI pair-programmer that was used to "vibe code" this sample repo leveraging the Sogni Client SDK. 
* **

For any questions, comments, feedback, or support feel free to reach out to dream@sogni.ai 